import{a as g,v as U,x as I,r as M,n as V,c as f,o as h,d as m,i as n,w as l,e,t as o,g as y,s as Y,A as q,j as c}from"./index-e6bf7eb3.js";const G={class:"grid"},H={class:"flex flex-column align-items-center p-5 surface-overlay border-round"},F=e("div",{class:"border-circle bg-primary inline-flex justify-content-center align-items-center h-6rem w-6rem -mt-8"},[e("i",{class:"pi pi-question text-5xl"})],-1),J={class:"font-bold text-2xl block mb-2 mt-4"},$={class:"mb-0"},K={class:"flex align-items-center gap-2 mt-4"},Q={class:"col-12 lg:col-6 xl:col-5"},X={key:0,class:"card mb-2 bg-random",style:{"padding-bottom":"38px"}},Z={style:{display:"flex","justify-content":"space-between"}},ee={class:"card-custom",style:{display:"flex","flex-direction":"column"}},te=e("b",{style:{"font-size":"0.8rem"}},"TOPPAY BALANCE",-1),se={style:{"text-align":"center","margin-top":"10px","font-size":"1.4rem"}},oe={key:0,class:"card-custom",style:{display:"flex","flex-direction":"column"}},ne=e("b",{style:{"font-size":"0.8rem"}},"HPAY BALANCE",-1),ae={style:{"text-align":"center","margin-top":"10px","font-size":"1.4rem"}},le={key:0,style:{display:"flex","justify-content":"space-between","margin-top":"10px"}},ie={class:"card-custom",style:{display:"flex","flex-direction":"column"}},ce=e("b",{style:{"font-size":"0.8rem"}},"PAGARSTAR BALANCE",-1),de={style:{"text-align":"center","margin-top":"10px","font-size":"1.4rem"}},re={key:0,class:"card-custom",style:{display:"flex","flex-direction":"column"}},ue=e("b",{style:{"font-size":"0.8rem"}},"COPO BALANCE",-1),he={style:{"text-align":"center","margin-top":"10px","font-size":"1.4rem"}},me={class:"mt-5 text-white",style:{"text-align":"center"}},_e=e("span",{style:{"font-size":"1.3rem","font-weight":"600"}},"Total",-1),pe=e("br",null,null,-1),ye=e("br",null,null,-1),be={style:{"font-size":"2rem","font-weight":"600"}},fe={key:0,class:"col-12 lg:col-6 xl:col-3"},xe={class:"card mb-2 bg-skyblue",style:{height:"159px"}},ge=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"Total Accounts")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),ve={class:"text-center mt-2 text-white"},we={style:{"font-size":"2rem","font-weight":"600"}},Ae={class:"card mb-2 bg-yellow1",style:{height:"159px"}},ke=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"Total Player Balance")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Ce={class:"text-center mt-2 text-white"},Se={style:{"font-size":"2rem","font-weight":"600"}},qe={key:1,class:"col-12 lg:col-6 xl:col-4"},je={class:"card mb-0"},De=e("div",{class:"flex justify-content-between mb-3"},[e("div",null,[e("span",{class:"block text-500 font-medium mb-3"},[e("b",null,"Users & Agents (Success Deposit & Withdraw)")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Re={key:2,class:"col-12 lg:col-6 xl:col-3"},Ne={class:"card mb-2 bg-blue",style:{height:"159px"}},Pe=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"Total Agents")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Le={class:"text-center mt-2 text-white"},Te={style:{"font-size":"2rem","font-weight":"600"}},ze={key:3,class:"col-12 lg:col-6 xl:col-3"},Be={class:"card mb-2 bg-green",style:{height:"159px"}},Ee=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"PLAYER (ONLINE)")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Oe={class:"text-center mt-2 text-white"},We={style:{"font-size":"2rem","font-weight":"600"}},Ue={key:4,class:"col-12 lg:col-6 xl:col-3"},Ie={class:"card mb-2 bg-blue",style:{height:"159px"}},Me=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"PLAYER (IDLE)")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Ve={class:"text-center mt-2 text-white"},Ye={style:{"font-size":"2rem","font-weight":"600"}},Ge=Y('<div class="col-12 lg:col-6 xl:col-3"><div class="card mb-2 bg-red" style="height:159px;"><div class="flex justify-content-between"><div><span class="block text-500 font-medium text-white"><b>SABONG BET (<span style="color:red;">MERON</span>/<span style="color:blue;">WALA</span>)</b></span></div><div class="flex align-items-center justify-content-center bg-blue-100 border-round" style="width:2.5rem;height:2.5rem;"><i class="pi pi-money-bill text-blue-500 text-xl"></i></div></div><div class="text-center mt-2 text-white"><span style="font-size:2rem;font-weight:600;">123 / 123</span></div></div></div>',1),He={class:"col-12"},Fe={class:"card mb-2",style:{"minx-height":"159px",height:"auto"}},Je=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium"},[e("b",null,"User Withdrawal Request")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),$e={class:""},Ke={class:"col-12"},Qe={class:"card mb-2",style:{"min-height":"159px",height:"auto"}},Xe=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium"},[e("b",null,"Agent Withdrawal Request")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Ze={class:""},st={__name:"DashboardAdmin",setup(et){const b=s=>s.toLocaleString("en-US",{style:"currency",currency:"PHP"}),L=g({chart:{type:"donut"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}],labels:["User Success Withdraw","User Success Deposit","Agent Withdraw"],dataLabels:{formatter:function(s,r){const d=r.seriesIndex;return"â‚± "+v.value[d].toLocaleString()}}}),w=g([]),j=JSON.parse(localStorage.getItem("auth.admin")),u=g(),v=g(),T=U(),D=I(),A={username:j.username,token:j.token},i=M({toppay:0,hpay:0,pagarstar:0,copo:0,total:0}),R=async()=>{const s=await q.postAdminMonitoring(A);u.value=s,v.value=[s.successWithdraw,s.successDeposit,s.agentSuccessWithdraw],i.toppay=s.toppay,i.hpay=s.hpay,i.pagarstar=s.pagar,i.copo=s.copo,i.total=s.total},k=g(),N=g(),z=async()=>{const s=await q.postUserReqWithdrawal(A);console.log(s),k.value=s.user_withdraw,N.value=s.agent_withdraw},B=(s,r="")=>s=="Bank"?"Bank - "+r:s,E=(s,r)=>{const d={};r=="Bank"&&(d.toppay=i.toppay),r=="GCASH"&&(d.pagarstar=i.pagarstar),r=="Paymaya"&&(d.toppay=i.toppay),w.value=[];const x=k.value.filter(p=>p.id==s),_=x[0];console.log(_);const C=x[0].amount,a=[];for(const p in d)p!=="total"&&d[p]>=C&&a.push(p);a.forEach(p=>{w.value.push({name:p.toUpperCase().toString(),id:s,user_id:_.user_id,amount:_.amount,method:_.method,order_id:_.order_id,account_name:_.account_name,account_number:_.account_number})})},O=s=>{console.log(s.value),T.require({group:"headless",header:"Are you sure?",message:"Please confirm to process the payment",accept:async()=>{const r={...A,...s.value},d=await q.postUpdateUserReqWithdrawal(r);d.resStatus===1?D.add({severity:"error",summary:"Transaction Failed",detail:d.resMsg,life:5e3}):d.resStatus===0&&D.add({severity:"success",summary:"Success",detail:"Transaction request has been completed.",life:5e3}),console.log(r)}})};return V(()=>{R(),z(),setInterval(()=>{R(),console.log("fetched")},3e4)}),(s,r)=>{const d=f("Toast"),x=f("Button"),_=f("ConfirmDialog"),C=f("apexchart"),a=f("Column"),p=f("Dropdown"),S=f("DataTable");return h(),m("div",G,[n(d),n(_,{group:"headless",class:"w-25rem"},{container:l(({message:t,acceptCallback:P,rejectCallback:W})=>[e("div",H,[F,e("span",J,o(t.header),1),e("p",$,o(t.message),1),e("div",K,[n(x,{label:"Confirm",onClick:P},null,8,["onClick"]),n(x,{label:"Cancel",outlined:"",onClick:W},null,8,["onClick"])])])]),_:1}),e("div",Q,[i.toppay?(h(),m("div",X,[e("div",Z,[e("div",ee,[te,e("b",se,o(b(i.toppay)),1)]),i.hpay?(h(),m("div",oe,[ne,e("b",ae,o(b(i.hpay)),1)])):y("",!0)]),i.pagarstar?(h(),m("div",le,[e("div",ie,[ce,e("b",de,o(b(i.pagarstar)),1)]),i.copo?(h(),m("div",re,[ue,e("b",he,o(b(i.copo)),1)])):y("",!0)])):y("",!0),e("div",me,[_e,pe,ye,e("span",be,o(b(i.total)),1)])])):y("",!0)]),u.value?(h(),m("div",fe,[e("div",xe,[ge,e("div",ve,[e("span",we,o(u.value.playerCount.toLocaleString()),1)])]),e("div",Ae,[ke,e("div",Ce,[e("span",Se,o(b(u.value.playerBalance)),1)])])])):y("",!0),v.value?(h(),m("div",qe,[e("div",je,[De,n(C,{type:"donut",options:L.value,series:v.value,height:"360"},null,8,["options","series"])])])):y("",!0),u.value?(h(),m("div",Re,[e("div",Ne,[Pe,e("div",Le,[e("span",Te,o(u.value.agentCount.toLocaleString()),1)])])])):y("",!0),u.value?(h(),m("div",ze,[e("div",Be,[Ee,e("div",Oe,[e("span",We,o(u.value.isOnline.toLocaleString()),1)])])])):y("",!0),u.value?(h(),m("div",Ue,[e("div",Ie,[Me,e("div",Ve,[e("span",Ye,o(u.value.isIdle.toLocaleString()),1)])])])):y("",!0),Ge,e("div",He,[e("div",Fe,[Je,e("div",$e,[n(S,{value:k.value,tableStyle:"min-width: 50rem",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50]},{default:l(()=>[n(a,{field:"name",header:"ORDER ID"},{body:l(t=>[c(o(t.data.order_id),1)]),_:1}),n(a,{field:"category",header:"Username"},{body:l(t=>[c(o(t.data.username),1)]),_:1}),n(a,{field:"quantity",header:"Method"},{body:l(t=>[c(o(B(t.data.method,t.data.bank)),1)]),_:1}),n(a,{field:"quantity",header:"Account Number"},{body:l(t=>[c(o(t.data.account_number),1)]),_:1}),n(a,{field:"quantity",header:"Account Name"},{body:l(t=>[c(o(t.data.account_name),1)]),_:1}),n(a,{field:"quantity",header:"Amount"},{body:l(t=>[c(o(b(t.data.amount)),1)]),_:1}),n(a,{field:"quantity",header:"Date"},{body:l(t=>[c(o(t.data.date),1)]),_:1}),n(a,{field:"quantity",header:"Action"},{body:l(t=>[n(p,{options:w.value,onClick:P=>E(t.data.id,t.data.method),onChange:O,optionLabel:"name",placeholder:"Select Payment",class:"w-full md:w-14rem"},null,8,["options","onClick"])]),_:1})]),_:1},8,["value"])])])]),e("div",Ke,[e("div",Qe,[Xe,e("div",Ze,[n(S,{value:N.value,tableStyle:"min-width: 50rem",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50]},{default:l(()=>[n(a,{field:"name",header:"ORDER ID"},{body:l(t=>[c(o(t.data.order_id),1)]),_:1}),n(a,{field:"category",header:"Username"},{body:l(t=>[c(o(t.data.username),1)]),_:1}),n(a,{field:"quantity",header:"Method"},{body:l(t=>[c(o(t.data.method),1)]),_:1}),n(a,{field:"quantity",header:"Account Number"},{body:l(t=>[c(o(t.data.account_number),1)]),_:1}),n(a,{field:"quantity",header:"Account Name"},{body:l(t=>[c(o(t.data.account_name),1)]),_:1}),n(a,{field:"quantity",header:"Amount"},{body:l(t=>[c(o(b(t.data.amount)),1)]),_:1}),n(a,{field:"quantity",header:"Date"},{body:l(t=>[c(o(t.data.date),1)]),_:1}),n(a,{field:"quantity",header:"Action"})]),_:1},8,["value"])])])])])}}};export{st as default};
