import{B as f,C as Se,a as R,D as Le,q as H,E as de,r as te,G as Ge,H as _,I as Ne,J as ze,K as pe,L as ve,M as ge,x as De,o as Ie,A as re,c as A,d as M,e as U,j as O,w as E,f as w,k as P,t as k,h as q,N as Fe}from"./index-fad927ec.js";function he(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?he(Object(t),!0).forEach(function(a){ke(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function ke(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Y(e){return typeof e=="function"}function ce(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ae(e){return Y(e.$validator)?K({},e):{$validator:e}}function Ve(e){return typeof e=="object"?e.$valid:e}function Re(e){return e.$validator||e}function Me(e,n){if(!ce(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!ce(n)&&!Y(n))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=ae(n);return t.$params=K(K({},t.$params||{}),e),t}function Ue(e,n){if(!Y(e)&&typeof f(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!ce(n)&&!Y(n))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=ae(n);return t.$message=e,t}function Be(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=ae(e);return K(K({},t),{},{$async:!0,$watchTargets:n})}function qe(e){return{$validator(n){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return f(n).reduce((o,l,m)=>{const p=Object.entries(l).reduce((i,v)=>{let[$,y]=v;const h=e[$]||{},r=Object.entries(h).reduce((d,c)=>{let[x,T]=c;const C=Re(T).call(this,y,l,m,...a),b=Ve(C);if(d.$data[x]=C,d.$data.$invalid=!b||!!d.$data.$invalid,d.$data.$error=d.$data.$invalid,!b){let u=T.$message||"";const L=T.$params||{};typeof u=="function"&&(u=u({$pending:!1,$invalid:!b,$params:L,$model:y,$response:C})),d.$errors.push({$property:$,$message:u,$params:L,$response:C,$model:y,$pending:!1,$validator:x})}return{$valid:d.$valid&&b,$data:d.$data,$errors:d.$errors}},{$valid:!0,$data:{},$errors:[]});return i.$data[$]=r.$data,i.$errors[$]=r.$errors,{$valid:i.$valid&&r.$valid,$data:i.$data,$errors:i.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:o.$valid&&p.$valid,$data:o.$data.concat(p.$data),$errors:o.$errors.concat(p.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:n=>{let{$response:t}=n;return t?t.$errors.map(a=>Object.values(a).map(s=>s.map(o=>o.$message)).reduce((s,o)=>s.concat(o),[])):[]}}}const Z=e=>{if(e=f(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let n in e)return!0;return!1}return!!String(e).length},fe=e=>(e=f(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function D(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return a=>(a=f(a),!Z(a)||n.every(s=>(s.lastIndex=0,s.test(a))))}var se=Object.freeze({__proto__:null,forEach:qe,len:fe,normalizeValidatorObject:ae,regex:D,req:Z,unwrap:f,unwrapNormalizedValidator:Re,unwrapValidatorResponse:Ve,withAsync:Be,withMessage:Ue,withParams:Me});D(/^[a-zA-Z]*$/);D(/^[a-zA-Z0-9]*$/);D(/^\d*(\.\d+)?$/);const He=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;D(He);function Ke(e){return n=>!Z(n)||fe(n)<=f(e)}function le(e){return{$validator:Ke(e),$message:n=>{let{$params:t}=n;return`The maximum length allowed is ${t.max}`},$params:{max:e,type:"maxLength"}}}function Ze(e){return n=>!Z(n)||fe(n)>=f(e)}function oe(e){return{$validator:Ze(e),$message:n=>{let{$params:t}=n;return`This field should be at least ${t.min} characters long`},$params:{min:e,type:"minLength"}}}function Je(e){return typeof e=="string"&&(e=e.trim()),Z(e)}var ie={$validator:Je,$message:"Value is required",$params:{type:"required"}};const We=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;D(We);D(/(^[0-9]*$)|(^-[0-9]+$)/);D(/^[-]?\d*(\.\d+)?$/);function ye(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function z(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ye(Object(t),!0).forEach(function(a){Qe(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ye(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Qe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function be(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,a)=>(n.includes(a)||(t[a]=f(e[a])),t),{})}function ee(e){return typeof e=="function"}function Xe(e){return Ne(e)||ze(e)}function Ce(e,n,t){let a=e;const s=n.split(".");for(let o=0;o<s.length;o++){if(!a[s[o]])return t;a=a[s[o]]}return a}function ue(e,n,t){return _(()=>e.some(a=>Ce(n,a,{[t]:!1})[t]))}function we(e,n,t){return _(()=>e.reduce((a,s)=>{const o=Ce(n,s,{[t]:!1})[t]||[];return a.concat(o)},[]))}function je(e,n,t,a){return e.call(a,f(n),f(t),a)}function Ae(e){return e.$valid!==void 0?!e.$valid:!e}function Ye(e,n,t,a,s,o,l){let{$lazy:m,$rewardEarly:p}=s,i=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],v=arguments.length>8?arguments[8]:void 0,$=arguments.length>9?arguments[9]:void 0,y=arguments.length>10?arguments[10]:void 0;const h=R(!!a.value),r=R(0);t.value=!1;const d=H([n,a].concat(i,y),()=>{if(m&&!a.value||p&&!$.value&&!t.value)return;let c;try{c=je(e,n,v,l)}catch(x){c=Promise.reject(x)}r.value++,t.value=!!r.value,h.value=!1,Promise.resolve(c).then(x=>{r.value--,t.value=!!r.value,o.value=x,h.value=Ae(x)}).catch(x=>{r.value--,t.value=!!r.value,o.value=x,h.value=!0})},{immediate:!0,deep:typeof n=="object"});return{$invalid:h,$unwatch:d}}function et(e,n,t,a,s,o,l,m){let{$lazy:p,$rewardEarly:i}=a;const v=()=>({}),$=_(()=>{if(p&&!t.value||i&&!m.value)return!1;let y=!0;try{const h=je(e,n,l,o);s.value=h,y=Ae(h)}catch(h){s.value=h}return y});return{$unwatch:v,$invalid:$}}function tt(e,n,t,a,s,o,l,m,p,i,v){const $=R(!1),y=e.$params||{},h=R(null);let r,d;e.$async?{$invalid:r,$unwatch:d}=Ye(e.$validator,n,$,t,a,h,s,e.$watchTargets,p,i,v):{$invalid:r,$unwatch:d}=et(e.$validator,n,t,a,h,s,p,i);const c=e.$message;return{$message:ee(c)?_(()=>c(be({$pending:$,$invalid:r,$params:be(y),$model:n,$response:h,$validator:o,$propertyPath:m,$property:l}))):c||"",$params:y,$pending:$,$invalid:r,$response:h,$unwatch:d}}function at(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=f(e),t=Object.keys(n),a={},s={},o={};let l=null;return t.forEach(m=>{const p=n[m];switch(!0){case ee(p.$validator):a[m]=p;break;case ee(p):a[m]={$validator:p};break;case m==="$validationGroups":l=p;break;case m.startsWith("$"):o[m]=p;break;default:s[m]=p}}),{rules:a,nestedValidators:s,config:o,validationGroups:l}}const nt="__root";function rt(e,n,t,a,s,o,l,m,p){const i=Object.keys(e),v=a.get(s,e),$=R(!1),y=R(!1),h=R(0);if(v){if(!v.$partial)return v;v.$unwatch(),$.value=v.$dirty.value}const r={$dirty:$,$path:s,$touch:()=>{$.value||($.value=!0)},$reset:()=>{$.value&&($.value=!1)},$commit:()=>{}};return i.length?(i.forEach(d=>{r[d]=tt(e[d],n,r.$dirty,o,l,d,t,s,p,y,h)}),r.$externalResults=_(()=>m.value?[].concat(m.value).map((d,c)=>({$propertyPath:s,$property:t,$validator:"$externalResults",$uid:`${s}-externalResult-${c}`,$message:d,$params:{},$response:null,$pending:!1})):[]),r.$invalid=_(()=>{const d=i.some(c=>f(r[c].$invalid));return y.value=d,!!r.$externalResults.value.length||d}),r.$pending=_(()=>i.some(d=>f(r[d].$pending))),r.$error=_(()=>r.$dirty.value?r.$pending.value||r.$invalid.value:!1),r.$silentErrors=_(()=>i.filter(d=>f(r[d].$invalid)).map(d=>{const c=r[d];return te({$propertyPath:s,$property:t,$validator:d,$uid:`${s}-${d}`,$message:c.$message,$params:c.$params,$response:c.$response,$pending:c.$pending})}).concat(r.$externalResults.value)),r.$errors=_(()=>r.$dirty.value?r.$silentErrors.value:[]),r.$unwatch=()=>i.forEach(d=>{r[d].$unwatch()}),r.$commit=()=>{y.value=!0,h.value=Date.now()},a.set(s,e,r),r):(v&&a.set(s,e,r),r)}function st(e,n,t,a,s,o,l){const m=Object.keys(e);return m.length?m.reduce((p,i)=>(p[i]=me({validations:e[i],state:n,key:i,parentKey:t,resultsCache:a,globalConfig:s,instance:o,externalResults:l}),p),{}):{}}function lt(e,n,t){const a=_(()=>[n,t].filter(r=>r).reduce((r,d)=>r.concat(Object.values(f(d))),[])),s=_({get(){return e.$dirty.value||(a.value.length?a.value.every(r=>r.$dirty):!1)},set(r){e.$dirty.value=r}}),o=_(()=>{const r=f(e.$silentErrors)||[],d=a.value.filter(c=>(f(c).$silentErrors||[]).length).reduce((c,x)=>c.concat(...x.$silentErrors),[]);return r.concat(d)}),l=_(()=>{const r=f(e.$errors)||[],d=a.value.filter(c=>(f(c).$errors||[]).length).reduce((c,x)=>c.concat(...x.$errors),[]);return r.concat(d)}),m=_(()=>a.value.some(r=>r.$invalid)||f(e.$invalid)||!1),p=_(()=>a.value.some(r=>f(r.$pending))||f(e.$pending)||!1),i=_(()=>a.value.some(r=>r.$dirty)||a.value.some(r=>r.$anyDirty)||s.value),v=_(()=>s.value?p.value||m.value:!1),$=()=>{e.$touch(),a.value.forEach(r=>{r.$touch()})},y=()=>{e.$commit(),a.value.forEach(r=>{r.$commit()})},h=()=>{e.$reset(),a.value.forEach(r=>{r.$reset()})};return a.value.length&&a.value.every(r=>r.$dirty)&&$(),{$dirty:s,$errors:l,$invalid:m,$anyDirty:i,$error:v,$pending:p,$touch:$,$reset:h,$silentErrors:o,$commit:y}}function me(e){let{validations:n,state:t,key:a,parentKey:s,childResults:o,resultsCache:l,globalConfig:m={},instance:p,externalResults:i}=e;const v=s?`${s}.${a}`:a,{rules:$,nestedValidators:y,config:h,validationGroups:r}=at(n),d=z(z({},m),h),c=a?_(()=>{const V=f(t);return V?f(V[a]):void 0}):t,x=z({},f(i)||{}),T=_(()=>{const V=f(i);return a?V?f(V[a]):void 0:V}),S=rt($,c,a,l,v,d,p,T,t),C=st(y,c,v,l,d,p,T),b={};r&&Object.entries(r).forEach(V=>{let[F,N]=V;b[F]={$invalid:ue(N,C,"$invalid"),$error:ue(N,C,"$error"),$pending:ue(N,C,"$pending"),$errors:we(N,C,"$errors"),$silentErrors:we(N,C,"$silentErrors")}});const{$dirty:u,$errors:L,$invalid:G,$anyDirty:I,$error:ne,$pending:j,$touch:B,$reset:J,$silentErrors:W,$commit:Q}=lt(S,C,o),g=a?_({get:()=>f(c),set:V=>{u.value=!0;const F=f(t),N=f(i);N&&(N[a]=x[a]),de(F[a])?F[a].value=V:F[a]=V}}):null;a&&d.$autoDirty&&H(c,()=>{u.value||B();const V=f(i);V&&(V[a]=x[a])},{flush:"sync"});async function $e(){return B(),d.$rewardEarly&&(Q(),await ge()),await ge(),new Promise(V=>{if(!j.value)return V(!G.value);const F=H(j,()=>{V(!G.value),F()})})}function Pe(V){return(o.value||{})[V]}function Te(){de(i)?i.value=x:Object.keys(x).length===0?Object.keys(i).forEach(V=>{delete i[V]}):Object.assign(i,x)}return te(z(z(z({},S),{},{$model:g,$dirty:u,$error:ne,$errors:L,$invalid:G,$anyDirty:I,$pending:j,$touch:B,$reset:J,$path:v||nt,$silentErrors:W,$validate:$e,$commit:Q},o&&{$getResultsForChild:Pe,$clearExternalResults:Te,$validationGroups:b}),C))}class ot{constructor(){this.storage=new Map}set(n,t,a){this.storage.set(n,{rules:t,result:a})}checkRulesValidity(n,t,a){const s=Object.keys(a),o=Object.keys(t);return o.length!==s.length||!o.every(m=>s.includes(m))?!1:o.every(m=>t[m].$params?Object.keys(t[m].$params).every(p=>f(a[m].$params[p])===f(t[m].$params[p])):!0)}get(n,t){const a=this.storage.get(n);if(!a)return;const{rules:s,result:o}=a,l=this.checkRulesValidity(n,t,s),m=o.$unwatch?o.$unwatch:()=>({});return l?o:{$dirty:o.$dirty,$partial:!0,$unwatch:m}}}const X={COLLECT_ALL:!0,COLLECT_NONE:!1},xe=Symbol("vuelidate#injectChildResults"),_e=Symbol("vuelidate#removeChildResults");function it(e){let{$scope:n,instance:t}=e;const a={},s=R([]),o=_(()=>s.value.reduce((v,$)=>(v[$]=f(a[$]),v),{}));function l(v,$){let{$registerAs:y,$scope:h,$stopPropagation:r}=$;r||n===X.COLLECT_NONE||h===X.COLLECT_NONE||n!==X.COLLECT_ALL&&n!==h||(a[y]=v,s.value.push(y))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],l);function m(v){s.value=s.value.filter($=>$!==v),delete a[v]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],m);const p=pe(xe,[]);ve(xe,t.__vuelidateInjectInstances);const i=pe(_e,[]);return ve(_e,t.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:p,removeValidationResultsFromParent:i}}function Ee(e){return new Proxy(e,{get(n,t){return typeof n[t]=="object"?Ee(n[t]):_(()=>n[t])}})}let Oe=0;function ut(e,n){var t;let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(a=e,e=void 0,n=void 0);let{$registerAs:s,$scope:o=X.COLLECT_ALL,$stopPropagation:l,$externalResults:m,currentVueInstance:p}=a;const i=p||((t=Se())===null||t===void 0?void 0:t.proxy),v=i?i.$options:{};s||(Oe+=1,s=`_vuelidate_${Oe}`);const $=R({}),y=new ot,{childResults:h,sendValidationResultsToParent:r,removeValidationResultsFromParent:d}=i?it({$scope:o,instance:i}):{childResults:R({})};if(!e&&v.validations){const c=v.validations;n=R({}),Le(()=>{n.value=i,H(()=>ee(c)?c.call(n.value,new Ee(n.value)):c,x=>{$.value=me({validations:x,state:n,childResults:h,resultsCache:y,globalConfig:a,instance:i,externalResults:m||i.vuelidateExternalResults})},{immediate:!0})}),a=v.validationsConfig||a}else{const c=de(e)||Xe(e)?e:te(e||{});H(c,x=>{$.value=me({validations:x,state:n,childResults:h,resultsCache:y,globalConfig:a,instance:i??{},externalResults:m})},{immediate:!0})}return i&&(r.forEach(c=>c($,{$registerAs:s,$scope:o,$stopPropagation:l})),Ge(()=>d.forEach(c=>c(s)))),_(()=>z(z({},f($.value)),h.value))}const dt={className:"card"},ct=w("h4",null,"Agent List",-1),mt={class:"flex justify-content-end"},ft={style:{display:"flex",gap:"10px","margin-top":"20px"}},$t={style:{display:"flex","flex-direction":"column",gap:"5px","margin-bottom":"20px"}},pt=w("label",{for:"username",class:"font-semibold"},[P("First Name "),w("small",{style:{color:"var(--red-400)"}},"*")],-1),vt={key:0,style:{color:"var(--red-400)"}},gt={style:{display:"flex","flex-direction":"column",gap:"5px","margin-bottom":"20px"}},ht=w("label",{for:"username",class:"font-semibold"},[P("Last Name "),w("small",{style:{color:"var(--red-400)"}},"*")],-1),yt={key:0,style:{color:"var(--red-400)"}},bt={style:{display:"flex","flex-direction":"column",gap:"5px","margin-bottom":"20px"}},wt=w("label",{for:"username",class:"font-semibold"},[P("Username "),w("small",{style:{color:"var(--red-400)"}},"*")],-1),xt={key:0,style:{color:"var(--red-400)"}},_t={key:0,class:"flex align-items-center gap-3 mb-5"},Ot=w("label",{class:"font-semibold w-6rem"},"Status",-1),Vt={class:"flex flex-wrap gap-3"},Rt={class:"flex align-items-center"},Ct=w("label",{for:"ingredient1",class:"ml-2"},"Active",-1),jt={class:"flex align-items-center"},At=w("label",{for:"ingredient2",class:"ml-2"},"Inactive",-1),Et={key:1,style:{display:"flex","flex-direction":"column",gap:"5px","margin-bottom":"20px"}},Pt=w("label",{for:"username",class:"font-semibold"},"Default Password",-1),Tt={style:{display:"flex",gap:"10px","margin-top":"20px"}},St={style:{display:"flex","flex-direction":"column",gap:"5px","margin-bottom":"20px",width:"50%"}},Lt=w("label",{for:"username",class:"font-semibold"},[P("GGR % "),w("small",null,"(Gross Gaming Revenue)")],-1),Gt={style:{display:"flex","flex-direction":"column",gap:"5px","margin-bottom":"20px",width:"50%"}},Nt=w("label",{for:"username",class:"font-semibold"},[P("VTO % "),w("small",null,"(Valid Turn Over)")],-1),zt={class:"flex justify-content-end gap-2"},It={__name:"AgentsList",setup(e){const n=R(!1),t=R(),a=JSON.parse(localStorage.getItem("auth.admin")),s=R("Add"),o=R(!1),l=te({selectedGGR:{name:"40%",code:"40"},selectedVTO:{name:"0.001",code:"0.001"},fname:"",lname:"",password:"123456",username:""}),m=[{name:"0%",code:"0"},{name:"5%",code:"5"},{name:"10%",code:"10"},{name:"15%",code:"15"},{name:"20%",code:"20"},{name:"25%",code:"25"},{name:"30%",code:"30"},{name:"35%",code:"35"},{name:"40%",code:"40"}],p=[{name:"0.001",code:"0.001"},{name:"0.002",code:"0.002"}],i=De(),v=b=>/^[a-zA-Z0-9]+$/.test(b),$=(b,u)=>b.includes("Value")?b.replace("Value",u):b,y={username:a[0].username,token:a[0].token};Ie(async()=>{const b=await re.showAllAgents(y);b.resStatus===0?t.value=b.data:alert(b.resMsg)});const h=_(()=>({username:{required:ie,specialCharacterChecking:se.withMessage("This field does not allow special characters",v),minLengthValue:oe(3),maxLengthValue:le(15)},lname:{required:ie,minLengthValue:oe(3),maxLengthValue:le(30),specialCharacterChecking:se.withMessage("This field does not allow special characters",v)},fname:{required:ie,minLengthValue:oe(3),maxLengthValue:le(30),specialCharacterChecking:se.withMessage("This field does not allow special characters",v)}})),r=ut(h,l),d=async()=>{if(o.value=!0,r.value.$validate(),!r.value.$error){const b={selectedGGR:l.selectedGGR.code,selectedVTO:l.selectedVTO.code,fname:l.fname.trim(),lname:l.lname.trim(),password:"123456",agent_username:l.username.trim(),...y},u=await re.postAddAgent(b);u.resStatus===0?(i.add({severity:"success",summary:"Success",detail:"New agent has been added successfully",life:5e3}),n.value=!1):i.add({severity:"error",summary:"Failed",detail:u.resMsg,life:5e3}),o.value=!1}o.value=!1},c=b=>{switch(b){case 0:return"Active";case 1:return"Inactive";default:return"Unknown"}},x=b=>{console.log(b),s.value="Edit";const u=t.value.filter(L=>L.id===b);console.log(u),l.selectedGGR={name:u[0].overallComGGR.toString()+"%",code:u[0].overallComGGR.toString()},l.selectedVTO={name:u[0].vtoComm.toString(),code:u[0].vtoComm.toString()},l.fname=u[0].completeName.split(" ")[0],l.lname=u[0].completeName.split(" ")[1],l.username=u[0].username,l.id=u[0].id,l.isActive=u[0].status.toString(),n.value=!0},T=async()=>{if(o.value=!0,r.value.$validate(),!r.value.$error){const b={id:l.id,selectedGGR:l.selectedGGR.code,selectedVTO:l.selectedVTO.code,isActive:l.isActive,fname:l.fname.trim(),lname:l.lname.trim(),...y},u=await re.postUpdateAgent(b);u.resStatus===0?(i.add({severity:"success",summary:"Success",detail:"New agent has been updated successfully",life:5e3}),n.value=!1):i.add({severity:"error",summary:"Failed",detail:u.resMsg,life:5e3}),o.value=!1}o.value=!1},S=R({global:{value:null,matchMode:Fe.CONTAINS}}),C=()=>{n.value=!0,s.value="Add",l.selectedGGR=null,l.selectedVTO=null,l.fname="",l.lname="",l.username=""};return(b,u)=>{const L=A("Toast"),G=A("Button"),I=A("InputText"),ne=A("IconField"),j=A("Column"),B=A("DataTable"),J=A("RadioButton"),W=A("Dropdown"),Q=A("Dialog");return M(),U("div",dt,[O(L),ct,O(G,{label:"Add Agent",class:"mb-5",onClick:C}),O(B,{filters:S.value,"onUpdate:filters":u[1]||(u[1]=g=>S.value=g),globalFilterFields:["completeName","overallComGGR","vtoComm","status","date"],value:t.value,stripedRows:"",rowsPerPageOptions:[5,10,20,50],rows:10,paginator:!0,responsiveLayout:"scroll"},{header:E(()=>[w("div",mt,[O(ne,{iconPosition:"right"},{default:E(()=>[O(I,{modelValue:S.value.global.value,"onUpdate:modelValue":u[0]||(u[0]=g=>S.value.global.value=g),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})])]),default:E(()=>[O(j,{style:{width:"20%"},sortable:!0,field:"completeName",header:"Complete Name"},{body:E(g=>[P(k(g.data.completeName),1)]),_:1}),O(j,{style:{width:"15%"},sortable:!0,field:"username",header:"Username"}),O(j,{style:{width:"15%"},sortable:!0,field:"email",header:"Email"},{body:E(g=>[P(k(g.data.email)+"% ",1)]),_:1}),O(j,{style:{width:"10%"},sortable:!0,field:"is_online",header:"Online Status"},{body:E(g=>[P(k(g.data.is_online),1)]),_:1}),O(j,{style:{width:"10%"},sortable:!0,field:"status",header:"Status"},{body:E(g=>[P(k(c(g.data.status)),1)]),_:1}),O(j,{style:{width:"15%"},sortable:!0,field:"date",header:"Date Registered"}),O(j,{style:{width:"15%"},header:"Action"},{body:E(g=>[O(G,{label:"Edit",icon:"pi pi-pencil",onClick:$e=>x(g.data.id)},null,8,["onClick"])]),_:1})]),_:1},8,["filters","value"]),O(Q,{visible:n.value,"onUpdate:visible":u[12]||(u[12]=g=>n.value=g),modal:"",header:`${s.value} Agent`,style:{width:"35rem"},draggable:!1},{default:E(()=>[w("div",ft,[w("div",$t,[pt,O(I,{modelValue:l.fname,"onUpdate:modelValue":u[2]||(u[2]=g=>l.fname=g),id:"username",class:"w-full",autocomplete:"off"},null,8,["modelValue"]),f(r).fname.$error?(M(),U("small",vt,k($(f(r).fname.$errors[0].$message,"First Name")),1)):q("",!0)]),w("div",gt,[ht,O(I,{modelValue:l.lname,"onUpdate:modelValue":u[3]||(u[3]=g=>l.lname=g),id:"username",class:"w-full",autocomplete:"off"},null,8,["modelValue"]),f(r).lname.$error?(M(),U("small",yt,k($(f(r).lname.$errors[0].$message,"Last Name")),1)):q("",!0)])]),w("div",bt,[wt,O(I,{modelValue:l.username,"onUpdate:modelValue":u[4]||(u[4]=g=>l.username=g),id:"username",class:"w-full",autocomplete:"off",disabled:s.value!="Add"},null,8,["modelValue","disabled"]),f(r).username.$error?(M(),U("small",xt,k($(f(r).username.$errors[0].$message,"Username")),1)):q("",!0)]),s.value=="Edit"?(M(),U("div",_t,[Ot,w("div",Vt,[w("div",Rt,[O(J,{modelValue:l.isActive,"onUpdate:modelValue":u[5]||(u[5]=g=>l.isActive=g),inputId:"ingredient1",name:"pizza",value:"0"},null,8,["modelValue"]),Ct]),w("div",jt,[O(J,{modelValue:l.isActive,"onUpdate:modelValue":u[6]||(u[6]=g=>l.isActive=g),inputId:"ingredient2",name:"pizza",value:"1"},null,8,["modelValue"]),At])])])):q("",!0),s.value=="Add"?(M(),U("div",Et,[Pt,O(I,{modelValue:l.password,"onUpdate:modelValue":u[7]||(u[7]=g=>l.password=g),id:"username",class:"w-full",autocomplete:"off",readonly:""},null,8,["modelValue"])])):q("",!0),w("div",Tt,[w("div",St,[Lt,O(W,{modelValue:l.selectedGGR,"onUpdate:modelValue":u[8]||(u[8]=g=>l.selectedGGR=g),options:m,optionLabel:"name",placeholder:"Select",class:"w-full"},null,8,["modelValue"])]),w("div",Gt,[Nt,O(W,{modelValue:l.selectedVTO,"onUpdate:modelValue":u[9]||(u[9]=g=>l.selectedVTO=g),options:p,optionLabel:"name",placeholder:"Select",class:"w-full"},null,8,["modelValue"])])]),w("div",zt,[O(G,{type:"button",label:"Cancel",severity:"secondary",onClick:u[10]||(u[10]=g=>n.value=!1)}),O(G,{loading:o.value,type:"button",label:s.value=="Add"?"Submit":"Update",severity:s.value=="Add"?"primary":"warning",onClick:u[11]||(u[11]=g=>s.value=="Add"?d():T())},null,8,["loading","label","severity"])])]),_:1},8,["visible","header"])])}}};export{It as default};
