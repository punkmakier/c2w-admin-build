import{a as m,v as Y,x as J,r as K,o as Q,c as _,d as h,e as y,j as a,w as n,f as e,F as X,y as Z,t as o,h as x,A as b,k as i}from"./index-59b6530c.js";const ee={class:"grid"},te={class:"flex flex-column align-items-center p-5 surface-overlay border-round"},ae=e("div",{class:"border-circle bg-primary inline-flex justify-content-center align-items-center h-6rem w-6rem -mt-8"},[e("i",{class:"pi pi-question text-5xl"})],-1),se={class:"font-bold text-2xl block mb-2 mt-4"},oe={class:"mb-0"},ne={class:"flex align-items-center gap-2 mt-4"},le={class:"col-12 lg:col-6 xl:col-8"},ie={key:0,class:"card mb-2 bg-random",style:{"padding-bottom":"38px"}},ce={style:{display:"flex","flex-wrap":"wrap",gap:"10px"}},re={style:{"font-size":"0.8rem"}},de={style:{"text-align":"center","margin-top":"10px","font-size":"1.4rem"}},ue={class:"mt-5 text-white",style:{"text-align":"center"}},me=e("span",{style:{"font-size":"1.3rem","font-weight":"600"}},"Total",-1),he=e("br",null,null,-1),ye=e("br",null,null,-1),_e={style:{"font-size":"2rem","font-weight":"600"}},be={key:0,class:"col-12 lg:col-6 xl:col-4"},pe={class:"card mb-0"},fe=e("div",{class:"flex justify-content-between mb-3"},[e("div",null,[e("span",{class:"block text-500 font-medium mb-3"},[e("b",null,"Users & Agents (Success Deposit & Withdraw)")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),ve={key:1,class:"col-12 lg:col-6 xl:col-3"},ge={class:"card mb-2 bg-skyblue",style:{height:"159px"}},xe=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"Total Accounts")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),we={class:"text-center mt-2 text-white"},ke={style:{"font-size":"2rem","font-weight":"600"}},Ce={key:2,class:"col-12 lg:col-6 xl:col-3"},De={class:"card mb-2 bg-yellow1",style:{height:"159px"}},Ae=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"Total Player Balance")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Se={class:"text-center mt-2 text-white"},Pe={style:{"font-size":"2rem","font-weight":"600"}},je={key:3,class:"col-12 lg:col-6 xl:col-2"},Ne={class:"card mb-2 bg-blue",style:{height:"159px"}},qe=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"Total Agents")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Le={class:"text-center mt-2 text-white"},We={style:{"font-size":"2rem","font-weight":"600"}},Ie={key:4,class:"col-12 lg:col-6 xl:col-2"},Te={class:"card mb-2 bg-green",style:{height:"159px"}},Be=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"PLAYER (ONLINE)")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Re={class:"text-center mt-2 text-white"},Ue={style:{"font-size":"2rem","font-weight":"600"}},ze={key:5,class:"col-12 lg:col-6 xl:col-2"},Oe={class:"card mb-2 bg-blue",style:{height:"159px"}},He=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium text-white"},[e("b",null,"PLAYER (IDLE)")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Ee={class:"text-center mt-2 text-white"},Me={style:{"font-size":"2rem","font-weight":"600"}},Ve={class:"col-12"},Fe={class:"card mb-2",style:{"minx-height":"159px",height:"auto"}},$e=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium"},[e("b",null,"User Withdrawal Request")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Ge={class:"mt-3"},Ye={style:{display:"flex",gap:"10px"}},Je={class:"col-12"},Ke={class:"card mb-2",style:{"min-height":"159px",height:"auto"}},Qe=e("div",{class:"flex justify-content-between"},[e("div",null,[e("span",{class:"block text-500 font-medium"},[e("b",null,"Agent Withdrawal Request")])]),e("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[e("i",{class:"pi pi-money-bill text-blue-500 text-xl"})])],-1),Xe={class:"mt-3"},tt={__name:"DashboardAdmin",setup(Ze){const w=s=>s.toLocaleString("en-US",{style:"currency",currency:"PHP"}),O=m({chart:{type:"donut"},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}],labels:["User Success Withdraw","User Success Deposit","Agent Withdraw"],dataLabels:{formatter:function(s,c){const r=c.seriesIndex;return"â‚± "+D.value[r].toLocaleString()}}}),S=m([]),q=JSON.parse(localStorage.getItem("auth.admin")),u=m(),D=m(),P=m(!1),j=m(),L=Y(),p=J(),f={username:q[0].username,token:q[0].token},C=K({toppay:0,hpay:0,pagarstar:0,copo:0,total:0}),A=m(),W=m(),I=async()=>{const s=await b.postAdminMonitoring(f);u.value=s,D.value=[s.successWithdraw,s.successDeposit,s.agentSuccessWithdraw],C.toppay=s.toppay,C.hpay=s.hpay,C.pagarstar=s.pagar,C.copo=s.copo,C.total=s.total},T=m(),B=m(),H=async()=>{const s=await b.postUserReqWithdrawal(f);T.value=s.user_withdraw,B.value=s.agent_withdraw},R=(s,c,r)=>{console.log(s+" "+c);const k=A.value.filter(v=>v.runningBalance>=c||v.maxWithdrawal<=c&&v.isWithdrawable==1).map(v=>({...v,id:s,type:r}));S.value=k},U=s=>{console.log(),L.require({group:"headless",header:"Are you sure?",message:"Please confirm to process the payment",accept:async()=>{const c={...f,providerID:s.value.providerID,id:s.value.id};try{const r=s.value.type==="user"?await b.approveUserWithdrawal(c):await b.approveAgentWithdrawal(c);r.error===1?p.add({severity:"error",summary:"Transaction Failed",detail:r.description,life:5e3}):r.resStatus===0&&p.add({severity:"success",summary:"Success",detail:"Transaction request has been completed.",life:5e3})}catch(r){p.add({severity:"error",summary:"Transaction Failed",detail:r,life:5e3})}}})},E=(s,c)=>{console.log(s),L.require({target:event.currentTarget,message:"Do you want to delete this record?",icon:"pi pi-info-circle",rejectClass:"p-button-secondary p-button-outlined p-button-sm",acceptClass:"p-button-danger p-button-sm",rejectLabel:"Cancel",acceptLabel:"Delete",accept:async()=>{const r={...f,id:s};try{const d=c==="user"?await b.declineUserWithdrawal(r):await b.declineAgentWithdrawal(r);console.log(d),d.error===1?p.add({severity:"error",summary:"Transaction Failed",detail:d.description,life:5e3}):d.resStatus===0&&p.add({severity:"success",summary:"Confirmed",detail:"Request withdrawal has been declined.",life:3e3})}catch(d){p.add({severity:"error",summary:"Transaction Failed",detail:d,life:5e3})}}})},M=async()=>{const s=await b.getPaymentGateway(f);if(s.resStatus===0){const c=s.data.reduce((r,d)=>r+d.runningBalance,0);W.value=c,A.value=s.data}},V=async s=>{j.value=null,P.value=!0,console.log(f);const c=await b.fetchHistoryCasino({...f,playUsername:s});console.log(c),c.resStatus===0?j.value=c.history:p.add({severity:"error",summary:"No Bet History",detail:c.resMsg,life:1e4})};return Q(()=>{I(),H(),M(),setInterval(()=>{I()},3e4)}),(s,c)=>{const r=_("Toast"),d=_("ConfirmPopup"),k=_("Button"),v=_("ConfirmDialog"),F=_("apexchart"),l=_("Column"),z=_("Dropdown"),N=_("DataTable"),$=_("Dialog");return h(),y("div",ee,[a(r),a(d),a(v,{group:"headless",class:"w-25rem"},{container:n(({message:t,acceptCallback:g,rejectCallback:G})=>[e("div",te,[ae,e("span",se,o(t.header),1),e("p",oe,o(t.message),1),e("div",ne,[a(k,{label:"Confirm",onClick:g},null,8,["onClick"]),a(k,{label:"Cancel",outlined:"",onClick:G},null,8,["onClick"])])])]),_:1}),e("div",le,[A.value?(h(),y("div",ie,[e("div",ce,[(h(!0),y(X,null,Z(A.value,(t,g)=>(h(),y("div",{class:"card-custom",style:{display:"flex","flex-direction":"column"},key:g},[e("b",re,o(t.name),1),e("b",de,o(w(t.runningBalance)),1)]))),128))]),e("div",ue,[me,he,ye,e("span",_e,o(w(W.value)),1)])])):x("",!0)]),D.value?(h(),y("div",be,[e("div",pe,[fe,a(F,{type:"donut",options:O.value,series:D.value,height:"360"},null,8,["options","series"])])])):x("",!0),u.value?(h(),y("div",ve,[e("div",ge,[xe,e("div",we,[e("span",ke,o(u.value.playerCount.toLocaleString()),1)])])])):x("",!0),u.value?(h(),y("div",Ce,[e("div",De,[Ae,e("div",Se,[e("span",Pe,o(w(u.value.playerBalance)),1)])])])):x("",!0),u.value?(h(),y("div",je,[e("div",Ne,[qe,e("div",Le,[e("span",We,o(u.value.agentCount.toLocaleString()),1)])])])):x("",!0),u.value?(h(),y("div",Ie,[e("div",Te,[Be,e("div",Re,[e("span",Ue,o(u.value.isOnline.toLocaleString()),1)])])])):x("",!0),u.value?(h(),y("div",ze,[e("div",Oe,[He,e("div",Ee,[e("span",Me,o(u.value.isIdle.toLocaleString()),1)])])])):x("",!0),e("div",Ve,[e("div",Fe,[$e,e("div",Ge,[a(N,{value:T.value,tableStyle:"min-width: 50rem",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50]},{default:n(()=>[a(l,{field:"orderID",header:"ORDER ID"},{body:n(t=>[i(o(t.data.orderID),1)]),_:1}),a(l,{field:"category",header:"Username"},{body:n(t=>[i(o(t.data.username),1)]),_:1}),a(l,{field:"quantity",header:"Method"},{body:n(t=>[i(o(t.data.method),1)]),_:1}),a(l,{field:"accountNumber",header:"Account Number"},{body:n(t=>[i(o(t.data.accountNumber),1)]),_:1}),a(l,{field:"accountName",header:"Account Name"},{body:n(t=>[i(o(t.data.accountName),1)]),_:1}),a(l,{field:"quantity",header:"Amount"},{body:n(t=>[i(o(w(t.data.amount)),1)]),_:1}),a(l,{field:"quantity",header:"Date"},{body:n(t=>[i(o(t.data.date),1)]),_:1}),a(l,{field:"quantity",header:"Action"},{body:n(t=>[e("div",Ye,[a(z,{options:S.value,onClick:g=>R(t.data.id,t.data.amount,"user"),onChange:U,optionLabel:"name",placeholder:"Select Payment",class:"w-full md:w-14rem"},null,8,["options","onClick"]),a(k,{label:"Decline",onClick:g=>E(t.data.id,"user")},null,8,["onClick"]),a(k,{label:"Bet History",onClick:g=>V(t.data.username),outlined:""},null,8,["onClick"])])]),_:1})]),_:1},8,["value"])])])]),e("div",Je,[e("div",Ke,[Qe,e("div",Xe,[a(N,{value:B.value,tableStyle:"min-width: 50rem",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50]},{default:n(()=>[a(l,{field:"orderID",header:"ORDER ID"},{body:n(t=>[i(o(t.data.orderID),1)]),_:1}),a(l,{field:"category",header:"Username"},{body:n(t=>[i(o(t.data.username),1)]),_:1}),a(l,{field:"method",header:"Method"},{body:n(t=>[i(o(t.data.method),1)]),_:1}),a(l,{field:"accountNumber",header:"Account Number"},{body:n(t=>[i(o(t.data.accountNumber),1)]),_:1}),a(l,{field:"accountName",header:"Account Name"},{body:n(t=>[i(o(t.data.accountName),1)]),_:1}),a(l,{field:"amount",header:"Amount"},{body:n(t=>[i(o(w(t.data.amount)),1)]),_:1}),a(l,{field:"date",header:"Date"},{body:n(t=>[i(o(t.data.date),1)]),_:1}),a(l,{field:"quantity",header:"Action"},{body:n(t=>[a(z,{options:S.value,onClick:g=>R(t.data.id,t.data.amount,"agent"),onChange:U,optionLabel:"name",placeholder:"Select Payment",class:"w-full md:w-14rem"},null,8,["options","onClick"])]),_:1})]),_:1},8,["value"])])])]),a($,{visible:P.value,"onUpdate:visible":c[0]||(c[0]=t=>P.value=t),modal:"",header:"Bet History",style:{width:"100rem"}},{default:n(()=>[a(N,{value:j.value,tableStyle:"min-width: 50rem",paginator:"",rows:10,rowsPerPageOptions:[5,10,20,50]},{default:n(()=>[a(l,{field:"category",header:"Username"},{body:n(t=>[i(o(t.data.username),1)]),_:1}),a(l,{field:"before",header:"Before"},{body:n(t=>[i(o(t.data.before),1)]),_:1}),a(l,{field:"after",header:"After"},{body:n(t=>[i(o(t.data.after),1)]),_:1}),a(l,{field:"betAmount",header:"Bet Amount"},{body:n(t=>[i(o(t.data.betAmount),1)]),_:1}),a(l,{field:"winAmount",header:"Win Amount"},{body:n(t=>[i(o(t.data.winAmount),1)]),_:1}),a(l,{field:"provider",header:"Provider"},{body:n(t=>[i(o(w(t.data.provider)),1)]),_:1}),a(l,{field:"date",header:"Date"},{body:n(t=>[i(o(t.data.date),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["visible"])])}}};export{tt as default};
